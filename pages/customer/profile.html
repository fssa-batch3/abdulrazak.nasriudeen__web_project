<!DOCTYPE html>
<html>
  <head>
    <title>Customer Profile</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend+Deca&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../../assets/css/profile.css"
    />
  </head>
  <body>
    <div class="side">
      <!-- <video src="../../assets/images/home/Status update.mp4"></video> -->
      <img src="../../assets/images/home/Status update.gif" alt="" />
      <div class="profile">
        <img id="C_profile" alt="profileImg" />

        <!-- <img src="../../assets/images/logo.png" width="10px" height="10px" /> -->

        <h1 id="h_name"></h1>
        <!-- <h2>Please fill your details</h2> -->
      </div>
      <div class="buttonCont">
        <button
          class="button"
          onclick="openprofile('personal','B_pro')"
          id="B_pro"
        >
          Personal
        </button>
        <button
          class="button"
          onclick="openprofile('Vehicle','W_pro')"
          id="W_pro"
        >
          Vehicle
        </button>
      </div>
      <p>Edit your profile here</p>
      <!-- <button class="com">Complete Profile</button> -->
    </div>
    <div class="container" id="personal">
      <h1>Personal details</h1>
      <form id="personal_form">
        <label for="name"
          >Name:

          <input
            type="text"
            class="profileClass"
            id="name"
            name="name"
            required
          />
        </label>

        <label for="email"
          >Email:

          <input
            type="email"
            class="profileClass"
            id="email"
            name="email"
            required
          />
        </label>

        <label for="password"
          >Password:

          <input
            type="password"
            class="profileClass"
            id="password"
            name="password"
            required
          />
        </label>

        <label for="phone"
          >Phone:
          <input
            class="profileClass"
            type="tel"
            id="phone"
            name="phone"
            pattern="[0-9]{10}"
            required
          />
        </label>

        <label for="address"
          >Address:

          <textarea
            id="address"
            class="profileClass"
            name="address"
            required
          ></textarea>
        </label>

        <label for="city_state"
          >City:
          <select id="city_state" class="profileClass" name="city" required>
            <option value="">--Select city--</option>
            <option value="Chennai,TamilNadu">Chennai,TamilNadu</option>
            <option value="Coimbatore,TamilNadu">Coimbatore,TamilNadu</option>
            <option value="Salem,TamilNadu">Salem,TamilNadu</option>
            <option value="Madurai,TamilNadu">Madurai,TamilNadu</option>
            <option value="Tiruchirappalli,TamilNadu">
              Tiruchirappalli,TamilNadu
            </option>
            <option value="Thoothukudi,TamilNadu">Thoothukudi,TamilNadu</option>
            <option value="Vellore,TamilNadu">Vellore,TamilNadu</option>
            <option value="Dindigul,TamilNadu">Dindigul,TamilNadu</option>
            <option value="Tirunelveli,TamilNadu">Tirunelveli,TamilNadu</option>
            <option value="Tiruppur,TamilNadu">Tiruppur,TamilNadu</option>
            <option value="Cuddalore,TamilNadu">Cuddalore,TamilNadu</option>
            <option value="Karur,TamilNadu">Karur,TamilNadu</option>
            <option value="Kanchipuram,TamilNadu">Kanchipuram,TamilNadu</option>
            <option value="Nagapattinam,TamilNadu">
              Nagapattinam,TamilNadu
            </option>
            <option value="Pudukkottai,TamilNadu">Pudukkottai,TamilNadu</option>
            <option value="Sivaganga,TamilNadu">Sivaganga,TamilNadu</option>
            <option value="Kumbakonam,TamilNadu">Kumbakonam,TamilNadu</option>
            <option value="Karaikudi,TamilNadu">Karaikudi,TamilNadu</option>
            <option value="Hosur,TamilNadu">Hosur,TamilNadu</option>
            <option value="Ooty,TamilNadu">Ooty,TamilNadu</option>
            <option value="Ambur,TamilNadu">Ambur,TamilNadu</option>
            <option value="Gudiyatham,TamilNadu">Gudiyatham,TamilNadu</option>
            <option value="Pollachi,TamilNadu">Pollachi,TamilNadu</option>
            <option value="Sivakasi,TamilNadu">Sivakasi,TamilNadu</option>
            <option value="Komarapalayam,TamilNadu">
              Komarapalayam,TamilNadu
            </option>
            <option value="Neyveli,TamilNadu">Neyveli,TamilNadu</option>
            <option value="Rajapalayam,TamilNadu">Rajapalayam,TamilNadu</option>
            <option value="Vaniyambadi,TamilNadu">Vaniyambadi,TamilNadu</option>
            <option value="Nagercoil,TamilNadu">Nagercoil,TamilNadu</option>
            <option value="Ramanathapuram,TamilNadu">
              Ramanathapuram,TamilNadu
            </option>
            <option value="Viluppuram,TamilNadu">Viluppuram,TamilNadu</option>
            <option value="Namakkal,TamilNadu">Namakkal,TamilNadu</option>
            <option value="Thiruvarur,TamilNadu">Thiruvarur,TamilNadu</option>
            <option value="Dharmapuri,TamilNadu">Dharmapuri,TamilNadu</option>
            <option value="Krishnagiri,TamilNadu">Krishnagiri,TamilNadu</option>
            <option value="Thiruvallur,TamilNadu">Thiruvallur,TamilNadu</option>
            <option value="Theni,TamilNadu">Theni,TamilNadu</option>
            <option value="Ariyalur,TamilNadu">Ariyalur,TamilNadu</option>
            <option value="Perambalur,TamilNadu">Perambalur,TamilNadu</option>
            <option value="Virudhunagar,TamilNadu">
              Virudhunagar,TamilNadu
            </option>
            <option value="Ranipet,TamilNadu">Ranipet,TamilNadu</option>
            <option value="Kancheepuram,TamilNadu">
              Kancheepuram,TamilNadu
            </option>
            <option value="Kanyakumari,TamilNadu">Kanyakumari,TamilNadu</option>
            <option value="Kallakurichi,TamilNadu">
              Kallakurichi,TamilNadu
            </option>
            <option value="Chengalpattu,TamilNadu">
              Chengalpattu,TamilNadu
            </option>
            <option value="Mayiladuthurai,TamilNadu">
              Mayiladuthurai,TamilNadu
            </option>
            <option value="Kodaikanal,TamilNadu">Kodaikanal,TamilNadu</option>
            <option value="Maduranthakam,TamilNadu">
              Maduranthakam,TamilNadu
            </option>
            <option value="Gudalur,TamilNadu">Gudalur,TamilNadu</option>
          </select>
        </label>

        <label for="profile-pic"
          >ProfilePicture:

          <input
            type="text"
            class="profileClass"
            id="profilepic"
            name="profile-pic"
            required
          />
        </label>

        <button onclick="dis('profileClass')" type="submit">Submit</button>
      </form>
    </div>
    <div class="container" id="Vehicle">
      <h1>Your vehicle details</h1>
      <form>
        <label for="v_type"> Vehicle_Type: </label>
        <select id="v_type" class="vehicleDetails" name="v_type">
          <option value="select your type">select your type</option>
          <option value="Two Wheelers">Two Wheelers</option>
          <option value="Three Wheelers">Three Wheelers</option>
          <option value="Four Wheelers">Four Wheelers</option>
        </select>

        <label for="f_type"> Fuel_Type: </label>
        <select id="f_type" class="vehicleDetails" name="v_type">
          <option value="select your Fuel">select your Fuel</option>
          <option value="Petrol">Petrol</option>
          <option value="Deisel">Deisel</option>
        </select>

        <label for="v_Company">Vehicle_Company: </label>
        <select name="company" class="vehicleDetails" id="v_company">
          <option value="Select your company">Select your company</option>
          <!-- <option value="Hero MotoCorp">Hero MotoCorp</option>
          <option value="Bajaj Auto">Bajaj Auto</option>
          <option value="TVS Motor Company">TVS Motor Company</option>
          <option value="Yamaha Motor India">Yamaha Motor India</option>
          <option value="Honda Motorcycle and Scooter India (HMSI)">
            Honda Motorcycle and Scooter India (HMSI)
          </option>
          <option value="Royal Enfield">Royal Enfield</option>
          <option value="Suzuki Motorcycle India">
            Suzuki Motorcycle India
          </option>
          <option value="Mahindra Two Wheelers">Mahindra Two Wheelers</option>
          <option value="Vespa India">Vespa India</option>
          <option value="KTM India">KTM India</option>
          <option value="Harley Davidson India">Harley Davidson India</option> -->
        </select>

        <label for="model">Select model :</label>
        <select id="model" class="vehicleDetails" name="hero-model">
          <option value="">select model</option>
          <!-- <option value="Hero Splendor Plus">Hero Splendor Plus</option>
          <option value="Hero HF Deluxe">Hero HF Deluxe</option>
          <option value="Hero Passion Pro">Hero Passion Pro</option>
          <option value="Hero Glamour">Hero Glamour</option>
          <option value="Hero Super Splendor">Hero Super Splendor</option>
          <option value="Hero Xtreme 160R">Hero Xtreme 160R</option>
          <option value="Hero Xpulse 200">Hero Xpulse 200</option>
          <option value="Hero Maestro Edge 125">Hero Maestro Edge 125</option>
          <option value="Hero Destini 125">Hero Destini 125</option>
          <option value="Hero Pleasure Plus">Hero Pleasure Plus</option>
          <option value="Hero Xtreme 200S">Hero Xtreme 200S</option>
          <option value="Hero Maestro Edge 110">Hero Maestro Edge 110</option>
          <option value="Hero Splendor iSmart Plus">
            Hero Splendor iSmart Plus
          </option>
          <option value="Hero XPulse 200T">Hero XPulse 200T</option>
          <option value="Hero Xtreme 200R">Hero Xtreme 200R</option>
          <option value="Hero Maestro">Hero Maestro</option>
          <option value="Hero HF Deluxe i3s">Hero HF Deluxe i3s</option>
          <option value="Hero Splendor Pro Classic">
            Hero Splendor Pro Classic
          </option>
          <option value="Hero Karizma ZMR">Hero Karizma ZMR</option>
          <option value="Hero Achiever">Hero Achiever</option> -->
        </select>

        <label for="year">
          Vehicle_Year:

          <input type="num" class="vehicleDetails" name="" id="year" />
        </label>

        <label for="v_num">
          Vehicle_Number:

          <input type="num" class="vehicleDetails" name="" id="v_num" />
        </label>
        <label for="v_img">
          Vehicle_image:

          <input type="text" class="vehicleDetails" name="" id="v_img" />
        </label>

        <button type="submit">Submit</button>
      </form>
      <button>delete your vehicle</button>
    </div>

    <script src="../javascript/json.js"></script>
    <script src="../../pages/javascript/customer.js"></script>
    <script>
      let P_image = document.getElementById("C_profile");
      let h_name = document.getElementById("h_name");
      h_name.innerText = "Hi!   " + log_cus["userName"];

      P_image.setAttribute("src", log_cus["image"]);
      updateProfile(log_cus);

      console.log(index);
      console.log(log_cus);

      const per_form = document.getElementById("personal_form");
      per_form.addEventListener("submit", function (event) {
        event.preventDefault();
        let userName = document.getElementById("name").value;
        let userEmail = document.getElementById("email").value;
        let userNumber = document.getElementById("phone").value;
        let userPassword = document.getElementById("password").value;
        let address = document.getElementById("address").value;
        let city = document.getElementById("city_state").value;
        let image = document.getElementById("profilepic").value;

        let proObj = {
          userName,
          userEmail,
          userNumber,
          userPassword,
          address,
          city,
          image,
        };

        let update = Object.assign(log_cus, proObj);
        console.log(update);
        customers[index] = update;
        console.log(customers);
        localStorage.setItem("users", JSON.stringify(customers));
        openprofile("Vehicle", "W_pro");
      });
      const v_form = document.getElementById("Vehicle");
      v_form.addEventListener("submit", function (event) {
        event.preventDefault();
        // vehicle array
        let Customer_vehicles = [];
        if (localStorage.getItem("Cus_vehicles") != null) {
          Customer_vehicles = JSON.parse(localStorage.getItem("Cus_vehicles"));
        }

        let vehicleType = document.getElementById("v_type").value;
        let fuelType = document.getElementById("f_type").value;
        let company = document.getElementById("v_company").value;
        let model = document.getElementById("model").value;
        let vehicle_year = document.getElementById("year").value;
        let vehicle_number = document.getElementById("v_num").value;
        let vehicle_image = document.getElementById("v_img").value;
        let vehicle_id = Date.now();

        const vehicleObj = {
          customerID: log_cus["u_id"],
          vehicleType,
          fuelType,
          company,
          model,
          vehicle_id,
          vehicle_image,
          vehicle_number,
          vehicle_year,
        };

        Customer_vehicles.push(vehicleObj);
        localStorage.setItem("Cus_vehicles", JSON.stringify(Customer_vehicles));
        let update = Object.assign(log_cus, vehicleObj);
        console.log(update);
        customers[index] = update;
        localStorage.setItem("users", JSON.stringify(customers));
        dis("vehicleDetails");
        window.location.href = "./customer.html";
      });
      function updateProfile(input) {
        let userName = document.getElementById("name");
        let userEmail = document.getElementById("email");
        let userNumber = document.getElementById("phone");
        let userPassword = document.getElementById("password");
        let address = document.getElementById("address");
        let city = document.getElementById("city_state");
        let image = document.getElementById("profilepic");
        let vehicleType = document.getElementById("v_type");
        let fuelType = document.getElementById("f_type");
        let company = document.getElementById("v_company");
        let model = document.getElementById("model");
        let vehicle_year = document.getElementById("year");
        let vehicle_number = document.getElementById("v_num");
        let vehicle_image = document.getElementById("v_img");

        userName.value = input["userName"];
        userEmail.value = input["userEmail"];
        userNumber.value = input["userNumber"];
        userPassword.value = input["userPassword"];
        address.value = input["address"];
        city.value = input["city"];
        image.value = input["image"];
        vehicleType.value = input["vehicleType"];
        fuelType.value = input["fuelType"];
        company.value = input["company"];
        model.value = input["model"];
        vehicle_year.value = input["vehicle_year"];
        vehicle_number.value = input["vehicle_number"];
        vehicle_image.value = input["vehicle_image"];
      }
    </script>
    <script>
      let type;
      let fuelType = "";
      let VehicleCompany = "";
      let vehicleModel = "";

      const select_vehicle_Type = document.getElementById("v_type");
      select_vehicle_Type.addEventListener("change", (event) => {
        type = event.target.value;
        if (type === "Two Wheelers") {
          createCompany(two_wheeler_company, "v_company");
          // createCompany(two_wheeler_company, "v_company");
        } else if (type === "Three Wheelers") {
          createCompany(three_wheeler_company, "v_company");
        } else if (type === "Four Wheelers") {
          createCompany(four_wheeler_company, "v_company");
        }
      });

      const select_VehicleCompany = document.getElementById("v_company");
      select_VehicleCompany.addEventListener("change", (event) => {
        VehicleCompany = event.target.value;
        if (type === "Two Wheelers") {
          createVehicle(two_wheeler_company, "model", VehicleCompany);
          // createCompany(two_wheeler_company, "v_company");
        } else if (type === "Three Wheelers") {
          createVehicle(three_wheeler_company, "model", VehicleCompany);
        } else if (type === "Four Wheelers") {
          createVehicle(four_wheeler_company, "model", VehicleCompany);
        }
      });
    </script>
  </body>
</html>
